<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge;chrome=1' http-equiv='X-UA-Compatible'>
    <title>
      Blog Title - Manage your dotfiles with ease
    </title>
    <link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />
    <script src="/javascripts/all.js" type="text/javascript"></script>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body>
    <div id='main' role='main'>
      <p>There are mainly 2 steps to manage your dotfiles easily:</p>
      
      <ol>
        <li>
          <p>Keeping it in sync beetween computers with git repository</p>
      
          <p>Previously I synced my dotfiles using Copy (Dropbox clone)
       backup service, which caused problems with file permissions(every file had added <code>x</code> flag when synced to new computer).</p>
        </li>
        <li>
          <p>Having script which takes care of linking files in dotfiles repo folder to their proper locations in the system.</p>
        </li>
      </ol>
      
      <p>While setting git repo for our dotfiles is simple, writing a linking script isn't so obvious.</p>
      
      <p>Usually adding new files to dotfile folder imply modifying a script which makes it hard to manage over time.
      My idea was to write a self-managable dotfile repo, which structure mirror the file structure on the local OS (repo has one <code>home</code> folder).
      Additionally I decided to link only files, not directories, because you may want to have some files in shared dotfiles folder only on one local machine.</p>
      
      <p>In result you don't have to change a script when you add new dotfiles as long as you keep file hierarchy in a repo the same as in the system.
      Look at the source:</p>
      
      <pre><code class="language-ruby">#!/usr/bin/env ruby
      
      require 'fileutils'
      require 'pathname'
      
      # Recursively link files from source to target directory
      def linkify source_path, target_path
        Dir.glob( File.join(source_path, '*'), File::FNM_DOTMATCH ).each do |src_fn_path|
          src_pn = Pathname.new src_fn_path
          next if %w(. ..).include? src_pn.basename.to_s
          if src_pn.directory?
            FileUtils.mkdir_p File.join(target_path, src_pn.basename)
            linkify File.join(source_path, src_pn.basename), File.join(target_path, src_pn.basename)
          else
            FileUtils.ln_s src_pn, File.join(target_path, src_pn.basename), force: true
          end
        end
      end
      
      
      linkify File.join( File.dirname(__FILE__), 'home'), ENV['HOME']
      </code></pre>
      
      <p>Whenever you modify your dotfiles, just run this script and you're good to go.
      Here is <a href="https://github.com/Gee-Bee/dotfiles">my dotfiles repo</a>.</p>
    </div>
    <aside>
      <h2>Recent Articles</h2>
      <ol>
        <li>
          <a href="/easy-management-of-your-dotfiles">Manage your dotfiles with ease</a>
          <span>Aug 14</span>
        </li>
        <li>
          <a href="/example-article">Examplee Article</a>
          <span>Jan  1</span>
        </li>
      </ol>
      <h2>Tags</h2>
      <ol>
        <li><a href="/tags/dotfiles-repo">dotfiles repo (1)</a></li>
        <li><a href="/tags/example">example (1)</a></li>
      </ol>
      <h2>By Year</h2>
      <ol>
        <li><a href="/2014">2014 (1)</a></li>
        <li><a href="/2012">2012 (1)</a></li>
      </ol>
    </aside>
  </body>
</html>
